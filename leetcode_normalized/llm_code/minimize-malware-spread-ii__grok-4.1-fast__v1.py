import collections

class C1(object):

    def minMalwareSpread(self, a1, a2):
        v1 = len(a1)
        v2 = set(a2)
        v3 = [i for v4 in range(v1) if v4 not in v2]
        v5 = list(range(v1))
        v6 = [0] * v1
        v7 = [1] * v1

        def find(a1):
            if v5[a1] != a1:
                v5[a1] = find(v5[a1])
            return v5[a1]

        def link(a1, a2):
            v1, v2 = (find(a1), find(a2))
            if v1 == v2:
                return
            if v6[v1] < v6[v2]:
                v5[v1] = v2
                v7[v2] += v7[v1]
            elif v6[v1] > v6[v2]:
                v5[v2] = v1
                v7[v1] += v7[v2]
            else:
                v5[v2] = v1
                v7[v1] += v7[v2]
                v6[v1] += 1
        for v4 in range(len(v3)):
            for v8 in range(v4 + 1, len(v3)):
                if a1[v3[v4]][v3[v8]]:
                    link(v3[v4], v3[v8])
        v9 = {}
        for v10 in v3:
            v11 = find(v10)
            v9[v11] = v7[v11]
        v12 = collections.defaultdict(set)
        for v13 in a2:
            for v14 in v3:
                if a1[v13][v14]:
                    v11 = find(v14)
                    v12[v11].add(v13)
        v15 = collections.defaultdict(int)
        for v11, v16 in v12.items():
            if len(v16) == 1:
                v17 = next(iter(v16))
                v15[v17] += v9[v11]
        v18 = max(v15.values()) if v15 else 0
        v19 = min((v10 for v10 in a2 if v15[v10] == v18))
        return v19
